(function(){var c,b,a;b={title:"Are you sure?",body:"This action cannot be undone.",password:false,prompt:"Type <i>%s</i> to continue:",ok:"Confirm",cancel:"Cancel"};a=function(h){var f,i,k,g,e,j,d;e=$.extend({},b,window.confirm_localization);f=h.data("confirm");if(!f){return true}if(typeof f==="string"){return window.confirm(f)}j=$("<div class='reveal-modal medium'>\n  <h2 class='header'></h2>\n  <p class='warning'></p>\n  <div class='footer'>\n    <a class='cancel-button secondary button radius inline'>\n      "+e.cancel+"\n    </a>\n  </div>\n</div>");j.find(".header").html(f.title||e.title);j.find(".warning").html(f.body||e.body);i=h.is("a")?h.clone():$("<a/>");i.removeAttr("class").removeAttr("data-confirm").addClass("button radius alert inline confirm").html(f.ok||e.ok);if(h.is("form")||h.is(":input")){i.on("click",function(){return h.closest("form").removeAttr("data-confirm").submit()})}j.find(".cancel-button").on("click",function(l){return j.foundation("reveal","close")});j.find(".footer").append(i);if((d=f.password||e.password)){g=(f.prompt||e.prompt).replace("%s",d);k="<label>"+g+"</label>\n<input class='confirm-password' type='text' />";j.find(".warning").after($(k));j.find(".confirm-password").on("keyup",function(l){return i.toggleClass("disabled",$(this).val()!==d)});i.addClass("disabled").on("click",function(l){if($(this).hasClass("disabled")){return false}})}j.appendTo($("body")).foundation("reveal","open").on("closed.fndtn.reveal",function(l){return j.remove()});return false};if($.rails){$.rails.allowAction=a}else{c=function(f){var d;d=a($(this));if(!d){f.preventDefault();f.stopImmediatePropagation()}return d};$(document).on("click","a[data-confirm], :input[data-confirm]",c);$(document).on("submit","form[data-confirm]",c)}}).call(this);