(function(){var a;if(!a){a=this.jQuery}a.fn.extend({confirmWithReveal:function(b){var f,e,d,c;if(b==null){b={}}f={modal_class:"medium",title:"Are you sure?",title_class:"",body:"This action cannot be undone.",body_class:"",password:false,prompt:"Type <strong>%s</strong> to continue:",footer_class:"",ok:"Confirm",ok_class:"button alert",cancel:"Cancel",cancel_class:"button secondary"};c=a.extend({},f,b);nativeConfirm=(ref=a.rails)!=null?ref.confirm:void 0;e=function(i){var k,m,h,n,l,j,g;n=i.data("confirm");if(i.attr("data-confirm")==null){return true}if((typeof n==="string")&&(n.length>0)){return(nativeConfirm||window.confirm).call(window,n)}j=function(o){return n[o]||c[o]};l=a("<div data-reveal class='reveal "+(j("modal_class"))+"'>\n  <h2 data-confirm-title class='"+(j("title_class"))+"'></h2>\n  <p data-confirm-body class='"+(j("body_class"))+"'></p>\n  <div data-confirm-footer class='"+(j("footer_class"))+"'>\n    <a data-confirm-cancel class='"+(j("cancel_class"))+"'></a>\n  </div>\n</div>");k=i.is("a")?i.clone():a("<a/>");k.removeAttr("data-confirm").attr("class",j("ok_class")).html(j("ok")).on("click",function(o){if(a(this).prop("disabled")){return false}i.trigger("confirm.reveal",o);if(i.is("form, :input")){return i.closest("form").removeAttr("data-confirm").submit()}});l.find("[data-confirm-title]").html(j("title"));l.find("[data-confirm-body]").html(j("body"));l.find("[data-confirm-cancel]").html(j("cancel")).on("click",function(o){l.foundation("close");return i.trigger("cancel.reveal",o)});l.find("[data-confirm-footer]").append(k);if((g=j("password"))){h=(j("prompt")).replace("%s",g);m="<label>\n  "+h+"\n  <input data-confirm-password type='text'/>\n</label>";l.find("[data-confirm-body]").after(a(m));l.find("[data-confirm-password]").on("keyup",function(p){var o;o=a(this).val()!==g;return k.toggleClass("disabled",o).prop("disabled",o)}).trigger("keyup")}l.appendTo(a("body")).foundation().foundation("open").on("closed.zf.reveal",function(o){return l.remove()});return false};if(a.rails){a.rails.confirm=function(h,g){return e(a(g))};return a(this)}else{d=function(g){if(!(e(a(this)))){g.preventDefault();return g.stopImmediatePropagation()}};return this.each(function(){var g;g=a(this);g.on("click","a[data-confirm], :input[data-confirm]",d);g.on("submit","form[data-confirm]",d);return g})}}})}).call(this);